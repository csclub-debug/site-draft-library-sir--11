backend:
  name: git-gateway
  branch: main
  # ❗ CRITICAL ADDITION: Specifies your GitHub repository
  repo: csclub-debug/site-draft-library-sir--11

media_folder: "images/uploads" # Where uploaded images go
public_folder: "/images/uploads"

# Each collection controls what the CMS can edit
collections:
  # 1️⃣ MAIN SITE DATA (content/data.json)
  - name: "site_data"
    label: "Main Site Data"
    file: "content/data.json"
    editor:
      preview: false
    fields:
      - label: "Announcements"
        name: "announcements"
        widget: "list"
        summary: "{{fields.title}} ({{fields.date}})"
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Date", name: "date", widget: "datetime", required: true}
          - {label: "Body / Note", name: "body", widget: "text", required: true}

      - label: "Staff Members"
        name: "staff"
        widget: "list"
        summary: "{{fields.name}} - {{fields.role}}"
        fields:
          - {label: "Name", name: "name", widget: "string"}
          - {label: "Role", name: "role", widget: "string"}
          - {label: "Image", name: "image", widget: "image", required: false}
          - {label: "Email", name: "email", widget: "string", required: false}
          - {label: "Phone", name: "phone", widget: "string", required: false}

      - label: "Books (Highlights)"
        name: "books"
        widget: "list"
        collapsed: true
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Author", name: "author", widget: "string", required: false}
          - {label: "Category", name: "category", widget: "string", required: false}
          - {label: "Year", name: "year", widget: "string", required: false}

      - label: "E-Resources"
        name: "eresources"
        widget: "list"
        collapsed: true
        fields:
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Link", name: "link", widget: "string"}
          - {label: "Description", name: "description", widget: "text", required: false}

      - label: "Research Sites & AI Tools"
        name: "research_sites"
        widget: "list"
        collapsed: true
        summary: "{{fields.name}}"
        fields:
          - {label: "Site Name", name: "name", widget: "string"}
          - {label: "Tagline / Description", name: "tagline", widget: "string"}
          - {label: "External URL", name: "link", widget: "string", hint: "Must start with https:// or http://"}

  # 2️⃣ QUESTION PAPERS (content/qpapers.json)
  - name: "question_papers"
    label: "Question Papers"
    file: "content/qpapers.json"
    editor:
      preview: false
    fields:
      - name: "papers"
        label: "All Question Papers"
        widget: "list"
        summary: "{{fields.department}} - {{fields.title}}"
        fields:
          - label: "Department"
            name: "department"
            widget: "select"
            options:
              - "BCA"
              - "B.Sc Zoology"
              - "B.Sc Chemistry"
              - "B.Sc Microbiology"
              - "B.Sc Biotechnology"
              - "B.Sc Botany"
              - "B.Sc Mathematics"
              - "B.Sc Physics"
              - "B.Sc Computer Science"
              - "M.Sc Industrial Chemistry"
          - {label: "Paper Title (e.g., May 2024 - Data Structures)", name: "title", widget: "string"}
          - {label: "Year/Semester", name: "year", widget: "string"}
          - {label: "Google Drive Link", name: "file", widget: "string", hint: "Paste the public link of the question paper PDF"}
          - {label: "Notes / Description", name: "body", widget: "markdown", required: false}

  # 3️⃣ BOOK CATALOG (content/books.json)
  - name: "catalog"
    label: "Book Catalog (OPAC)"
    file: "content/books.json"
    editor:
      preview: false
    fields:
      - name: "books"
        label: "Book Records"
        label_singular: "Book Record"
        widget: "list"
        collapsed: true
        summary: "{{fields.accession_no}} - {{fields.title}}"
        fields:
          - {label: "Accession Number", name: "accession_no", widget: "string"}
          - {label: "Title", name: "title", widget: "string"}
          - {label: "Author", name: "author", widget: "string"}
          - {label: "Subject / Department", name: "subject", widget: "string", required: false}
          - {label: "ISBN", name: "isbn", widget: "string", required: false}
          - {label: "Publisher", name: "publisher", widget: "string", required: false}