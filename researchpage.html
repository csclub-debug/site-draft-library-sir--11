<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Research Tools & AI - Sir M V Library</title>
  <link rel="stylesheet" href="assets/style.css">
<style>
  /* Custom styles for the Research Grid */
  #research-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: 24px;
    margin-top: 20px;
  }
  .research-card {
    display: block; /* Ensure the anchor tag behaves like a block */
    padding: 20px;
    border: 1px solid var(--border-color);
    border-radius: 12px;
    background: var(--card-bg);
    text-decoration: none;
    transition: all 0.2s ease;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
  }
  .research-card:hover {
    border-color: var(--primary);
    transform: translateY(-3px);
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
  }
  .research-card strong {
    display: block;
    font-size: 1.2em;
    color: var(--text-color);
    margin-bottom: 5px;
  }
  .research-card span {
    display: block;
    font-size: 0.9em;
    color: var(--muted);
  }
  .research-card .link-icon {
    margin-top: 15px;
    color: var(--primary);
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 5px;
  }
</style>
</head>
<body>

<section class="section container">
    <h1 style="margin-top:0">AI & Research Resources</h1>
    <p style="color:var(--muted)">A curated list of essential tools, journals, and AI platforms to assist your academic and research pursuits.</p>
    <div id="research-grid">
        <div id="loading-message" style="grid-column: 1 / -1; text-align: center; padding: 40px 0; color: var(--muted); font-style: italic;">Loading research sites...</div>
    </div>
</section>

<div class="footer-pad"></div>

  <footer class="site-footer" role="contentinfo">
    <div class="inner">
      <div style="display:flex;gap:12px;align-items:center">
        <img src="logo.svg" alt="logo" style="height:44px;width:44px;border-radius:8px">
        <div>
          <div style="font-weight:700">Sir M V Science College Library</div>
          <div style="font-size:13px;color:#9aa4b2">Library & Informatics Centre</div>
        </div>
      </div>

      <div style="color:#9aa4b2;font-size:14px">Sir. M.V. Government Science College, Bommanakatte, Bhadravathi - 577302</div>

      <div style="display:flex;gap:12px;align-items:center">
        <a class="social-btn fb" href="{{ facebook_url }}" target="_blank" aria-label="Facebook">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M22 12.07C22 6.48 17.52 2 11.93 2S2 6.48 2 12.07C2 17.09 5.64 21.26 10.36 22v-7.02H7.9v-2.92h2.46v-2.22c0-2.44 1.46-3.79 3.6-3.79 1.04 0 2.12.18 2.12.18v2.33h-1.19c-1.17 0-1.54.73-1.54 1.48v1.98h2.62l-.42 2.92h-2.2V22C18.36 21.26 22 17.09 22 12.07z" fill="white"/></svg>
        </a>

        <a class="social-btn ig" href="{{ instagram_url }}" target="_blank" aria-label="Instagram">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M7 2h10a5 5 0 015 5v10a5 5 0 01-5 5H7a5 5 0 01-5-5V7a5 5 0 015-5zm5 6.5a4.5 4.5 0 100 9 4.5 4.5 0 000-9zm6.5-.5a1 1 0 11-2 0 1 1 0 012 0z" fill="white"/></svg>
        </a>

        <a class="social-btn tw" href="{{ twitter_url }}" target="_blank" aria-label="Twitter">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none"><path d="M22 5.92c-.63.28-1.3.47-2.01.56.72-.43 1.27-1.12 1.53-1.94-.68.4-1.43.7-2.23.86A3.49 3.49 0 0016.5 4c-1.93 0-3.5 1.6-3.5 3.57 0 .28.03.55.09.81-2.91-.15-5.49-1.58-7.21-3.75-.3.5-.47 1.08-.47 1.69 0 1.16.61 2.19 1.54 2.79-.56-.02-1.09-.18-1.55-.42v.04c0 1.64 1.15 3.01 2.67 3.33-.28.07-.58.11-.88.11-.21 0-.42-.02-.62-.06.42 1.31 1.66 2.26 3.13 2.29A6.98 6.98 0 012 19.54a9.8 9.8 0 005.29 1.56c6.35 0 9.83-5.6 9.83-10.46v-.48c.68-.5 1.27-1.12 1.74-1.83-.63.28-1.3.47-2.01.56z" fill="white"/></svg>
        </a>

        <a class="email-btn" href="mailto:{{ primary_email }}" aria-label="Email">Email Us</a>
      </div>
    </div>
  </footer>
<script src="assets/main.js"></script>

<!-- START Research Page Script -->
<script>
document.addEventListener('DOMContentLoaded', () => {
    const gridContainer = document.getElementById('research-grid');
    const loadingMessage = document.getElementById('loading-message');
    const jsonPath = 'content/data.json'; 

    if (!gridContainer) return;

    // Function to render the resources
    const renderResearchSites = (sites) => {
        gridContainer.innerHTML = ''; // Clear loading message

        if (sites.length === 0) {
            gridContainer.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px 0; color: var(--muted);">No research sites have been added yet.</div>';
            return;
        }

        sites.forEach(item => {
            const card = document.createElement('a');
            card.classList.add('research-card');
            card.setAttribute('href', item.link || '#'); 
            card.setAttribute('target', '_blank'); // Open links in a new tab
            card.setAttribute('rel', 'noopener noreferrer');

            const taglineHTML = item.tagline ? `<span>${item.tagline}</span>` : '<span>Visit site for details.</span>';

            card.innerHTML = `
                <strong>${item.name || 'Untitled Site'}</strong>
                ${taglineHTML}
                <div class="link-icon">
                    Visit Site 
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                        <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path>
                        <polyline points="15 3 21 3 21 9"></polyline>
                        <line x1="10" y1="14" x2="21" y2="3"></line>
                    </svg>
                </div>
            `;
            
            gridContainer.appendChild(card);
        });
    };

    // Fetch Data
    fetch(jsonPath)
        .then(response => {
            if (!response.ok) {
                throw new Error(`HTTP error! Status: ${response.status}`);
            }
            return response.json();
        })
        .then(data => {
            // Get the research_sites array from the JSON structure
            const sites = data.research_sites || [];
            renderResearchSites(sites);
        })
        .catch(e => {
            console.error('Error fetching research sites:', e);
            gridContainer.innerHTML = '<div style="grid-column: 1 / -1; text-align: center; padding: 40px 0; color: red;">Failed to load research sites. Check your CMS data.</div>';
        });
});
</script>
<!-- END Research Page Script -->
</body>
</html>
